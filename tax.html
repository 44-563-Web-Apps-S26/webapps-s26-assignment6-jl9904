<!DOCTYPE html>
<html>
 <head>
    <title>Tax Table Computation</title>
    <meta charset="utf-8">
</head>
<body>

<h2>Jaden's tax table computation</h2>

<form>
    <label for="income">Enter income </label>
    <input type ="number" id="income" name="form1_income" value="5000"> <br>

    <label for="baseRate">Enter the base tax rate </label>
    <input type ="text" id="baseRate" name="form1_baseRate" value="0.05" step="0.01"> <br>

    <label for="cutoff">Enter the cut off </label>
    <input type ="number" id="cutoff" name="form1_cutoff" value="7500"> <br>

    <label for="extRate">Enter the extended rate</label>
    <input type="number" id="extRate" value="0.15" step="0.01"> <br>

    <input type="button" onclick="doTax()" value="Show tax table">
</form>

<p id="result">Results here. </p>

<hr>

<form>
    <input type="radio" id="op_pow" name="operation" value="exponent" onclick="chooseOp()">
    <label for="op_pow">power</label><br>

    <input type="radio" id="op_sum" name="operation" value="add" onclick="chooseOp()">
    <label for="op_sum">sum</label><br>

    <input type="radio" id="op_mod" name="operation" value="mod" onclick="chooseOp()">
    <label for="op_mod">mod</label><br>
</form>


<p id="result_op">Results here. </p>

<script> 

function doTax (){
    let income = parseFloat(document.getElementById("income").value)
    let baseRate = parseFloat(document.getElementById("baseRate").value)
    let cutoff = parseFloat(document.getElementById("cutoff").value)
    let extRate = parseFloat(document.getElementById("extRate").value)

    let taxTable = "";
    for (let i = 1; i <= 6; i++) {
            let incomeLevel = income * i;
            let calculatedTax = 0;

            if (incomeLevel <= cutoff) {
                calculatedTax = incomeLevel * baseRate;
            } else {
                calculatedTax = (cutoff * baseRate) + ((incomeLevel - cutoff) * extRate);
            }
    
    taxTable += "incomeLevel " + incomeLevel + " is " + calculatedTax + "; ";
    }

    let out = document.getElementById("result");
    out.innerHTML = "Taxes are: " + taxTable;
}

function chooseOp() {
    let income = parseFloat(document.getElementById("income").value)
    let baseRate = parseFloat(document.getElementById("baseRate").value)

    let resultElement = document.getElementById("result_op");
    let resultValue = 0;
    let text = "";

    if(document.getElementById("op_pow").checked) {
        resultValue = Math.pow(income, baseRate);
        text = income + " to the power of " + baseRate + " is: " + resultValue;
    } else if(document.getElementById("op_sum").checked) {
        resultValue = income + baseRate;
        text = income + " plus " + baseRate + " is " + resultValue;
    } else if(document.getElementById("op_mod").checked) {
        resultValue = income % baseRate;
        text = income + " % " + baseRate + " is " + resultValue;
    
    }
    resultElement.innerHTML = text;
}
</script>

</body>
</html> 